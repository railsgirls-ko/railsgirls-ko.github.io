<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>Continuous Deployment - cuz less hassle - Rails Girls</title>
    <!--[if lt IE 9]>
      <script src="//html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <script src="/js/prefixfree.min.js"></script>
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js" type="text/javascript"></script>
    <script src="/js/jquery.cookie.js"></script>
    <script src="/js/guides.js"></script>
    <link href="/css/bootstrap.css" rel="stylesheet" />
    <link href="/css/bootstrap-responsive.css" rel="stylesheet" />
    <link href="/css/code.css" rel="stylesheet" />
    <link href="/css/style.css" rel="stylesheet" />
    <link href="/favicon.png" rel="shortcut icon" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
  </head>
  <body>
    <header>
      <div class="container">
        <a class="span3" href="/" id="logo">
          <img alt="Rails Girls Guides" src="/images/railsgirls-guides.png" />
        </a>
        <nav></nav>
      </div>
    </header>
    <article class="container">
      <div class="span10">
        <h1 id="continuous-deployment-with-the-codeship">Continuous Deployment with the Codeship</h1>

<p><em>Created by Floor Drees, <a href="https://twitter.com/floordrees">@floordrees</a></em></p>

<h3 id="what-is-this-continuous-deployment-thing">What is this Continuous Deployment thing?</h3>

<p>Continuous deployment is part of the continuous delivery ‘movement’. The idea behind continuous delivery is to automate the software delivery process as far as possible.</p>

<p>With a working continuous deployment chain in place you’ll enforce Git deployments (everything must be committed to be tested and everything must be tested to be deployed), making collaboration easier and deployment faster. So you can focus on making your app even more awesome!</p>

<p>There are a few great companies sailing the continuous wave, in this guide we’ll set up continuous deployment for our Ruby on Rails app from GitHub to Heroku, using the <a href="http://www.codeship.io">Codeship</a>.</p>

<p><strong>COACH</strong>: Talk about the benefits of continuous deployment.</p>

<h3 id="sign-up-for-codeship">Sign up for Codeship</h3>

<p>First, you need <a href="https://www.codeship.io/">a Codeship account</a>. Sign in to the Codeship with GitHub. The Codeship needs access to your GitHub repositories to be able to set them up, so make sure you allow access.</p>

<p>Back at the Codeship, let’s create your first project. The first step is to select GitHub as your repository provider. In the list of your GitHub repositories, search for the repository you want to set up and select it. In our case, that’s the one called something like “railsgirls”.</p>

<p>Now your repository is connected and you can set up your test commands. We’ve created a Ruby on Rails application. So choose “Ruby on Rails” as the framework used. This configures the setup commands and the test commands for you. By deleting the hash key (<code class="highlighter-rouge">#</code>) you can uncomment test commands you want to use for your application. For now you probably don’t have tests set up yet, so you can skip this step and get back to it later.</p>

<p>Now let’s finish your setup and go to the dashboard. You can trigger a so-called ‘new build’ for your application by changing something and then pushing to your repository:</p>

<figure class="highlight"><pre><code class="language-sh" data-lang="sh">git add .  
git commit -m <span class="s2">"test Codeship integration"</span>  
git push origin master</code></pre></figure>

<p>You can access the build details by clicking the arrow on the right. Here you can follow the build while it’s still running. Better than reality tv - promised.</p>

<p>… and a few seconds later your build succeeded! You see all the commands that were run. After a few initial preparation commands the Codeship ran the commands that you specified a few moments ago. You can inspect the output of a single command by clicking on it.</p>

<p>You’ve already pushed to your repository, watched your build log and got a green build. So you can finish the assistant at the top by clicking on the “click to finish” button.</p>

<h3 id="setup-continuous-deployment">Setup Continuous Deployment</h3>

<p>Now let’s deploy your application to Heroku. Go to your project settings by clicking on the settings icon in the projects dropdown on the Codeship. Then navigate to the “Deployment” section. As you want to deploy to Heroku, click on the “Heroku” button.</p>

<p>You are asked to enter the name of your Heroku application and your API key. I sure hope you wrote that down somewhere! Enter your application’s name and API key (to retrieve your Heroku API key, go to your Heroku account and click “Show API key”) and save your deployment configuration.</p>

<p>From now on the Codeship will deploy your application to Heroku, everytime you push to your GitHub repository. Neat!</p>

<h3 id="give-it-a-try">Give it a try</h3>
<p>Now let’s push a change and see if it gets deployed. Change something in your application first, then commit and push the change.</p>

<figure class="highlight"><pre><code class="language-sh" data-lang="sh">git add .  
git commit -m <span class="s2">"this changes everything"</span>  
git push</code></pre></figure>

<p>And immediately another build will start running on the Codeship. Go back to your project overview and you’ll see the commands we already know from your first build. Plus: your application gets deployed to Heroku now and should be online after a minute or two.</p>

      </div>
    </article>
    <footer>
      <p>
        This work is licensed under a
        <a href="http://creativecommons.org/licenses/by-sa/3.0/">Creative Commons Attribution-Share Alike 3.0 License</a>
      </p>
      <p>
        <a href="http://railsgirls.com">Rails Girls</a>
        &middot; Crafted with excitement from Helsinki, Finland &middot; Follow us on
        <a href="http://twitter.com/railsgirls">Twitter</a>
        and
        <a href="https://www.facebook.com/railsgirls">Facebook</a>
      </p>
    </footer>
    <script type="text/javascript">
      //<![CDATA[
        var _gaq = _gaq || [];
        _gaq.push(["_setAccount", "UA-19631067-3"]);
        _gaq.push(["_trackPageview"]);

        (function() {
          var ga = document.createElement("script"); ga.type = "text/javascript"; ga.async = true;
          ga.src = ("https:" == document.location.protocol ? "https://ssl" : "http://www") + ".google-analytics.com/ga.js";
          var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(ga, s);
        })();
      //]]>
    </script>
  </body>
</html>
